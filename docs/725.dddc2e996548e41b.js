"use strict";(self.webpackChunkproducts_frontend=self.webpackChunkproducts_frontend||[]).push([[725],{5725:(q,p,n)=>{n.r(p),n.d(p,{ProductsModule:()=>P});var u=n(6895),l=n(4975),m=n(529),i=n(433),d=n(6523),t=n(8256),g=n(2099);const f="https://codingfactory.ddns.net/api/product";let a=(()=>{class r{constructor(o){this.http=o}findAll(){return this.http.get(`${f}/findall`).pipe((0,g.g)(1e3))}insertProduct(o){return this.http.post(`${f}/create`,o)}}return r.\u0275fac=function(o){return new(o||r)(t.LFG(m.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();function Z(r,s){1&r&&(t.TgZ(0,"div",2),t._uU(1," Loading Products... "),t.TgZ(2,"div",3),t._UZ(3,"span",4),t.qZA()())}function T(r,s){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&r){const o=s.$implicit;t.xp6(2),t.Oqu(o.product),t.xp6(2),t.Oqu(o.cost),t.xp6(2),t.Oqu(o.description),t.xp6(2),t.Oqu(o.quantity)}}function v(r,s){if(1&r){const o=t.EpF();t.TgZ(0,"div")(1,"table",5)(2,"thead")(3,"tr")(4,"th",6),t._uU(5," Product"),t.TgZ(6,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.toggleSort("product"))}),t._UZ(7,"i"),t._uU(8," Sort Asc/Desc "),t.qZA()(),t.TgZ(9,"th",6),t._uU(10," Cost "),t.TgZ(11,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.toggleSort("cost"))}),t._UZ(12,"i"),t._uU(13," Sort Asc/Desc "),t.qZA()(),t.TgZ(14,"th",6),t._uU(15," Description"),t.TgZ(16,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.toggleSort("description"))}),t._UZ(17,"i"),t._uU(18," Sort Asc/Desc "),t.qZA()(),t.TgZ(19,"th",6),t._uU(20," Quantity "),t.TgZ(21,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.toggleSort("quantity"))}),t._UZ(22,"i"),t._uU(23," Sort Asc/Desc "),t.qZA()()()(),t.TgZ(24,"tbody"),t.YNc(25,T,9,4,"tr",8),t.qZA()()()}if(2&r){const o=t.oxw();t.xp6(7),t.Gre("fas ","asc"===o.sortDirectionProduct?"fa-arrow-up":"fa-arrow-down",""),t.xp6(5),t.Gre("fas ","asc"===o.sortDirectionCost?"fa-arrow-down":"fa-arrow-up",""),t.xp6(5),t.Gre("fas ","asc"===o.sortDirectionDescription?"fa-arrow-up":"fa-arrow-down",""),t.xp6(5),t.Gre("fas ","asc"===o.sortDirectionQuantity?"fa-arrow-down":"fa-arrow-up",""),t.xp6(3),t.Q6J("ngForOf",o.productList)}}let _=(()=>{class r{constructor(o){this.productService=o,this.productList=[],this.loading=!1,this.productNameSortType="asc",this.productCostSortType="asc",this.descriptionSortType="asc",this.quantitySortType="asc",this.sortDirectionProduct="asc",this.sortDirectionCost="asc",this.sortDirectionDescription="asc",this.sortDirectionQuantity="asc"}ngOnInit(){this.loading=!0,this.productService.findAll().subscribe({next:o=>{const{status:e,data:c}=o;this.productList=c,console.log(e,c)},error:o=>{console.log(o),this.loading=!1},complete:()=>{console.log("Call completed"),this.loading=!1}})}ngOnDestroy(){}toggleSort(o){switch(o){case"product":this.productNameSortType="asc"===this.productNameSortType?"desc":"asc",this.sortDirectionProduct="asc"===this.sortDirectionProduct?"desc":"asc",this.productList=(0,d.Z)(this.productList,[o],[this.productNameSortType]);break;case"cost":this.productCostSortType="asc"===this.productCostSortType?"desc":"asc",this.sortDirectionCost="asc"===this.sortDirectionCost?"desc":"asc",this.productList=(0,d.Z)(this.productList,[o],[this.productCostSortType]);break;case"description":this.descriptionSortType="asc"===this.descriptionSortType?"desc":"asc",this.sortDirectionDescription="asc"===this.sortDirectionDescription?"desc":"asc",this.productList=(0,d.Z)(this.productList,[o],[this.descriptionSortType]);break;case"quantity":this.quantitySortType="asc"===this.quantitySortType?"desc":"asc",this.sortDirectionQuantity="asc"===this.sortDirectionQuantity?"desc":"asc",this.productList=(0,d.Z)(this.productList,[o],[this.quantitySortType])}}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(a))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-products-list"]],decls:2,vars:2,consts:[["class","mt-2 row alert alert-info",4,"ngIf"],[4,"ngIf"],[1,"mt-2","row","alert","alert-info"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"table","table-bordered","table-striped","table-hover"],["scope","col"],[1,"btn","btn-sm",3,"click"],[4,"ngFor","ngForOf"]],template:function(o,e){1&o&&(t.YNc(0,Z,4,0,"div",0),t.YNc(1,v,26,13,"div",1)),2&o&&(t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",e.productList.length))},dependencies:[u.sg,u.O5]}),r})();function y(r,s){1&r&&(t.TgZ(0,"div",21),t._uU(1," Product inserted "),t.qZA())}function b(r,s){1&r&&(t.TgZ(0,"div",22),t._uU(1," Please correct the errors in the form and try again. "),t.qZA())}let C=(()=>{class r{constructor(o,e,c){this.fb=o,this.service=e,this.router=c,this.isSubmitted=!1,this.form=this.fb.group({product:["",i.kI.required],cost:["",i.kI.required],description:["",i.kI.required],quantity:["",i.kI.required]})}onSubmit(){this.isSubmitted=!0,this.form.valid?(console.log(this.form.value),setTimeout(()=>{this.router.navigate(["products/list"])},1500),this.service.insertProduct(this.form.value).subscribe(e=>{console.log(e)})):console.log("Not valid")}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(i.qu),t.Y36(a),t.Y36(l.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-products-insert"]],decls:37,vars:3,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card"],[1,"card-header"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","product",1,"form-label"],[1,"text-danger"],["type","text","id","product","formControlName","product",1,"form-control"],["for","cost",1,"form-label"],["type","number","id","cost","formControlName","cost","min","0",1,"form-control"],["for","description",1,"form-label"],["id","description","formControlName","description",1,"form-control"],["for","quantity",1,"form-label"],["type","number","id","quantity","formControlName","quantity","min","0",1,"form-control"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","w-50","mx-auto"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5,"Add New Product"),t.qZA(),t.YNc(6,y,2,0,"div",5),t.TgZ(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(9,"div",8)(10,"label",9),t._uU(11," Product Name "),t.TgZ(12,"span",10),t._uU(13,"Required"),t.qZA()(),t._UZ(14,"input",11),t.qZA(),t.TgZ(15,"div",8)(16,"label",12),t._uU(17,"Cost of product "),t.TgZ(18,"span",10),t._uU(19,"Required"),t.qZA()(),t._UZ(20,"input",13),t.qZA(),t.TgZ(21,"div",8)(22,"label",14),t._uU(23,"Description"),t.TgZ(24,"span",10),t._uU(25,"Required"),t.qZA()(),t._UZ(26,"textarea",15),t.qZA(),t.TgZ(27,"div",8)(28,"label",16),t._uU(29,"Quantity "),t.TgZ(30,"span",10),t._uU(31,"Required"),t.qZA()(),t._UZ(32,"input",17),t.qZA(),t.YNc(33,b,2,0,"div",18),t.TgZ(34,"div",19)(35,"button",20),t._uU(36," Submit "),t.qZA()()()()()()()()),2&o&&(t.xp6(6),t.Q6J("ngIf",e.form.valid&&e.isSubmitted),t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(25),t.Q6J("ngIf",!e.form.valid&&e.isSubmitted))},dependencies:[u.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.qQ,i.sg,i.u]}),r})();var h=n(3537);const S=[{path:"list",component:_},{path:"insert",component:C},{path:"delete",component:h.o},{path:"update",component:h.o}];let P=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[a],imports:[u.ez,l.Bz.forChild(S),m.JF,i.UX]}),r})()}}]);